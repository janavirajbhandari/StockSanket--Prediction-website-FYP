<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">

  {% extends 'base.html' %}

  {% block content %}
  <div class="flex">
      {% include 'sidebar.html' %}
  
      <!-- Main Content -->
      <main class="flex-1 p-6 lg:ml-[180px] mt-16">

          
            <!-- Stock Indexes Section (Inside Box) -->
            <div class="p-4">
                <h3 class="text-gray-700 font-semibold">Stock Indexes</h3>

                <!-- Stock Boxes -->
                <div class="flex gap-4 mt-4">
                    <div class="p-4 h-20 w-40 border-dashed  border-2 border-red-400 rounded-lg text-center">
                        <p class="font-semibold mt-[-4px]">S&P12345</p>
                        <p class="text-red-500">↓ 1.98%</p>
                    </div>
                    <div class="p-4 h-20 w-40 border-dashed ml-1 border-2 border-green-400 rounded-lg text-center">
                        <p class="font-semibold mt-[-4px]">S&P12345</p>
                        <p class="text-green-500">↑ 1.98%</p>
                    </div>
                    <div class="p-4 h-20 w-40 border-dashed ml-1  border-2 border-green-400 rounded-lg text-center">
                      <p class="font-semibold mt-[-4px]">S&P12345</p>
                      <p class="text-green-500">↑ 1.98%</p>
                  </div>
                    <div class="p-4 h-20 w-40 border-dashed ml-1 border-2 border-red-400 rounded-lg text-center">
                        <p class="font-semibold mt-[-4px]">S&P12345</p>
                        <p class="text-red-500">↓ 1.98%</p>
                    </div>
                    <div class="p-4 h-20 w-40 border-dashed ml-1  border-2 border-green-400 rounded-lg text-center">
                      <p class="font-semibold mt-[-4px]">S&P12345</p>
                      <p class="text-green-500">↑ 1.98%</p>
                  </div>
                    <div class="p-4 h-20 w-40 border-dashed ml-1 border-2 border-red-400 rounded-lg text-center">
                        <p class="font-semibold mt-[-4px]">S&P12345</p>
                        <p class="text-red-500">↓ 1.98%</p>
                    </div>
                    <div class="p-4 h-20 w-40 border-dashed ml-1 border-2 border-red-400 rounded-lg text-center">
                      <p class="font-semibold mt-[-4px]">S&P12345</p>
                      <p class="text-red-500">↓ 1.98%</p>
                  </div>
                </div>
            </div>
            <div class="flex flex-col items-center text-center mt-10">
              <!-- Heading -->
              <h1 class="text-[#001F7B] text-4xl font-bold">
                  Search for a stock to start your analysis
              </h1>
          
              <!-- Search Bar -->
              <div class="w-96 flex items-center bg-gray-100 px-4 py-3 rounded-full shadow-lg mt-4">
                  <span class="material-icons text-gray-500 text-lg">search</span>
                  <input type="text" placeholder="Search by Symbol or Company Name" 
                         class="w-full outline-none bg-transparent ml-3 text-base">
                  <span class="material-icons text-gray-500 text-lg">arrow_drop_down</span>
              </div>
          </div>
          
<!-- Tables Section -->
<div class="flex justify-between mt-16 px-8">
    
  <!-- Top Gainers Table -->
  <div class="w-1/2 pr-4">
      <h2 class="text-gray-800 text-xl font-semibold">Top Gainers</h2>
      <p class="text-gray-500 text-sm">Updated Dec 27, 2024</p>
      <div class="overflow-x-auto mt-3">
          <table class="w-full border-collapse border border-gray-300">
              <thead class="bg-gray-200">
                  <tr>
                      <th class="border border-gray-300 px-4 py-2">Symbol</th>
                      <th class="border border-gray-300 px-4 py-2">Name</th>
                      <th class="border border-gray-300 px-4 py-2">Price</th>
                      <th class="border border-gray-300 px-4 py-2">Percentage</th>
                  </tr>
              </thead>
              <tbody>
                  {% for item in top_gainers %}
                  <tr class="hover:bg-gray-100">
                      <td class="border border-gray-300 px-4 py-2">{{ item.symbol }}</td>
                      <td class="border border-gray-300 px-4 py-2">{{ item.name }}</td>
                      <td class="border border-gray-300 px-4 py-2">{{ item.price }}</td>
                      <td class="border border-gray-300 px-4 py-2 text-green-600">{{ item.percentage }}</td>
                  </tr>
                  {% empty %}
                  <tr>
                      <td colspan="4" class="text-center text-gray-500 py-4">No Data Available</td>
                  </tr>
                  {% endfor %}
              </tbody>
          </table>
      </div>
  </div>

  <!-- Top Losers Table -->
  <div class="w-1/2 pl-4">
      <h2 class="text-gray-800 text-xl font-semibold">Top Losers</h2>
      <p class="text-gray-500 text-sm">Updated Dec 27, 2024</p>
      <div class="overflow-x-auto mt-3">
          <table class="w-full border-collapse border border-gray-300">
              <thead class="bg-gray-200">
                  <tr>
                      <th class="border border-gray-300 px-4 py-2">Symbol</th>
                      <th class="border border-gray-300 px-4 py-2">Name</th>
                      <th class="border border-gray-300 px-4 py-2">Price</th>
                      <th class="border border-gray-300 px-4 py-2">Percentage</th>
                  </tr>
              </thead>
              <tbody>
                  {% for item in top_losers %}
                  <tr class="hover:bg-gray-100">
                      <td class="border border-gray-300 px-4 py-2 text-red-600">{{ item.symbol }}</td>
                      <td class="border border-gray-300 px-4 py-2">{{ item.name }}</td>
                      <td class="border border-gray-300 px-4 py-2">{{ item.price }}</td>
                      <td class="border border-gray-300 px-4 py-2 text-red-600">{{ item.percentage }}</td>
                  </tr>
                  {% empty %}
                  <tr>
                      <td colspan="4" class="text-center text-gray-500 py-4">No Data Available</td>
                  </tr>
                  {% endfor %}
              </tbody>
          </table>
      </div>
  </div>
</div>

       <!-- News Section -->
<div class="mt-10 px-8">
  <a href="{% url 'news' %}">
      <div class="flex flex-row items-center space-x-2">
          <h2 class="text-[#001F7B] text-2xl font-bold">
              Stock News
          </h2>
          <span class="material-icons text-[#001F7B] text-lg cursor-pointer mt-1">
              arrow_right
          </span>
      </div>
  </a>

  <!-- News Preview (First 5 Items Only) -->
  <div class="mt-4">
      {% for news in recent_news|slice:":15" %}
      <div class="flex items-center justify-between border-b py-3 hover:bg-gray-100 transition">
          <span class="text-gray-500 text-sm w-12">{{ news.time }}</span>
          <a href="{% url 'news' %}" class="text-blue-600 text-sm font-medium hover:underline flex-1">
              {{ news.title }}
          </a>
          <span class="text-gray-600 text-sm">{{ news.source }}</span>
      </div>
      {% empty %}
      <p class="text-gray-500 text-center py-4">No news available</p>
      {% endfor %}
  </div>
</div>


       
        </main>
    </div>
{% endblock %}

  </body>
</html>